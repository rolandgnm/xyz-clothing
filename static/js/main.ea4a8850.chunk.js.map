{"version":3,"sources":["components/CurrencyContext.js","components/Header.jsx","components/Price.jsx","components/ProductSummary.jsx","pages/ProductsPage.jsx","pages/ProductPage.jsx","pages/NotFound.jsx","App.jsx","index.jsx"],"names":["CurrencyContext","React","createContext","Header","_useContext","useContext","currency","setCurrency","exchangeRates","react_default","a","createElement","className","value","onChange","event","target","map","curr","key","base","Price","_ref","productBase","amount","selectedCurrency","fromBase","toBase","toFixed","rates","find","exRate","Number","getDisplayPrice","ProductSummary","id","name","price","Link","to","concat","components_Price","ProductsPage","_ref$products","products","Fragment","product","components_ProductSummary","Object","assign","ProductPage","selectedProduct","selectedId","prod","undefined","getSelectedProduct","Redirect","relatedProducts","filter","includes","getRelatedProducts","description","relatedProduct","NotFound","App","_useState","useState","_useState2","slicedToArray","setProducts","_useState3","_useState4","useEffect","productList","context","BrowserRouter","basename","process","components_CurrencyContext","Provider","components_Header","length","Switch","Route","path","exact","component","pages_ProductsPage","match","pages_ProductPage","params","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ea4a8850.chunk.js","sourcesContent":["import React from 'react';\n\nconst CurrencyContext = React.createContext();\n\nexport default CurrencyContext;\n","import React, { useContext } from 'react';\nimport CurrencyContext from './CurrencyContext';\n\nconst Header = () => {\n  const { currency, setCurrency, exchangeRates } = useContext(CurrencyContext);\n  return (\n    <header>\n      <span className=\"logo\">XYZ Clothing</span>\n      {' '}\n      <select value={currency} onChange={(event) => { setCurrency(event.target.value); }}>\n        {exchangeRates.map(curr => (\n          <option key={curr.base}>\n            {curr.base}\n          </option>\n        ))}\n      </select>\n    </header>\n  );\n};\n\nexport default Header;\n","import React, { useContext } from 'react';\nimport CurrencyContext from './CurrencyContext';\n\nconst getDisplayPrice = (amount, exchangeRates, fromBase, toBase) => {\n  if (fromBase === toBase) {\n    return amount.toFixed(2);\n  }\n  const { rates } = exchangeRates.find(exRate => exRate.base === fromBase);\n  return Number(amount * rates[toBase]).toFixed(2);\n};\n\nconst Price = ({ base: productBase, amount }) => {\n  const { currency: selectedCurrency, exchangeRates } = useContext(CurrencyContext);\n  return (\n    <span>\n      {selectedCurrency}\n      {' '}\n      {getDisplayPrice(amount, exchangeRates, productBase, selectedCurrency)}\n    </span>\n  );\n};\n\nexport default Price;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Price from './Price';\n\nconst ProductSummary = ({ id, name, price }) => (\n  <Link to={`/p/${id}`}>\n    <span>\n      <span>{name}</span>\n      {' '}\n      -\n      {' '}\n      <Price {...price} />\n    </span>\n  </Link>\n);\nexport default ProductSummary;\n","import React from 'react';\nimport ProductSummary from '../components/ProductSummary';\n\nconst ProductsPage = ({ products = [] }) => (\n  <>\n    <h1>Products</h1>\n    {products\n      ? products.map(product => (\n        <>\n          <br />\n          <ProductSummary key={product.id} {...product} />\n        </>\n      ))\n      : <div>Loading products...</div>\n        }\n  </>\n);\n\nexport default ProductsPage;\n","import React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport ProductSummary from '../components/ProductSummary';\nimport Price from '../components/Price';\n\nconst getSelectedProduct = (products, selectedId) => (\n  products\n    ? products.find(prod => prod.id === selectedId)\n    : undefined);\n\nconst getRelatedProducts = (products, relatedProducts) => (products\n  ? products.filter(prod => relatedProducts.includes(prod.id))\n  : []);\n\nconst ProductPage = ({ products, selectedId }) => {\n  const selectedProduct = getSelectedProduct(products, selectedId);\n\n  if (!selectedProduct) return <Redirect to=\"/404\" />;\n\n  const relatedProducts = getRelatedProducts(products, selectedProduct.relatedProducts);\n  const {\n    id, name, description, price,\n  } = selectedProduct;\n  return (\n    <div>\n      <div><Link to=\"/\">Products</Link></div>\n      <br />\n      <div>\n        <h2>\n          #\n          {id}\n          {' '}\n          {name}\n        </h2>\n        <p>{description}</p>\n        <div>\n          {' '}\n          <Price {...price} />\n          {' '}\n        </div>\n      </div>\n      <br />\n      <h3>Related</h3>\n      <div>\n        {relatedProducts.map(relatedProduct => (\n          <>\n            <br />\n            <ProductSummary key={relatedProduct.id} {...relatedProduct} />\n          </>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NotFound = () => (\n  <div>\n    Not Found!\n    <br />\n    <Link to=\"/\">back to products</Link>\n  </div>\n);\n\nexport default NotFound;\n","import React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Header from './components/Header';\nimport ProductsPage from './pages/ProductsPage';\nimport productList from './products.json';\nimport ProductPage from './pages/ProductPage';\nimport NotFound from './pages/NotFound';\nimport exchangeRates from './exchange_rates.json';\nimport CurrencyContext from './components/CurrencyContext';\n\nconst App = () => {\n  // Create state to hold products\n  const [products, setProducts] = useState([]);\n  const [currency, setCurrency] = useState('AUD');\n\n  // Add products on app mount. Time to fetch data from source of truth.\n  useEffect(() => {\n    setProducts(productList);\n  }, []);\n\n  const context = {\n    currency,\n    setCurrency,\n    exchangeRates,\n  };\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <CurrencyContext.Provider value={context}>\n        <div className=\"App\">\n          <Header />\n          {products.length\n            && (\n              <Switch>\n                <Route path=\"/\" exact component={() => <ProductsPage products={products} />} />\n                <Route path=\"/p/:id\" component={({ match }) => <ProductPage products={products} selectedId={+match.params.id} />} />\n                <Route component={NotFound} />\n              </Switch>\n            )\n          }\n\n        </div>\n      </CurrencyContext.Provider>\n    </Router>\n  );\n};\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}